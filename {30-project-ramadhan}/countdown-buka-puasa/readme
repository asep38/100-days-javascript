// Get the DOM elements
const days = document.getElementById("days");
const hours = document.getElementById("hours");
const minutes = document.getElementById("minutes");
const seconds = document.getElementById("seconds");

// Set the date and time for Iftar (change to your desired date and time)
const awalPuasa = new Date("March 23, 2023");
const akhirPuasa = new Date("April 22, 2023");

// Calculate the number of days between the start and end of Ramadan
const bulanPuasa = akhirPuasa.getTime() - awalPuasa.getTime();
const hariPuasa = Math.ceil(bulanPuasa / (1000 * 3600 * 24));

// Calculate the end date for Ramadan
const tanggalAkhirPuasa = new Date(
  awalPuasa.getTime() + (hariPuasa - 1) * 24 * 60 * 60 * 1000
);
const bukaPuasa = new Date(`${tanggalAkhirPuasa}, 2023 17:58:00`).getTime();

// Array of weekday names
const weekdays = [
  "Minggu",
  "Senin",
  "Selasa",
  "Rabu",
  "Kamis",
  "Jum'at",
  "Sabtu",
];

// Function to display the countdown timer
const x = setInterval(function () {
  // Get the current time
  const sekarang = new Date().getTime();

  // Calculate the time remaining until iftar
  const waktu = bukaPuasa - sekarang;

  // Calculate the days, hours, minutes, and seconds remaining
  const d = Math.floor(waktu / 1000 / 60 / 60 / 24);
  const h = Math.floor((waktu / 1000 / 60 / 60) % 12);
  const m = Math.floor((waktu / 1000 / 60) % 60);
  const s = Math.floor((waktu / 1000) % 60);

  // Get the name of the day when iftar will happen
  const currentDay = new Date().getDay();
  const namaHari = weekdays[(currentDay + d) % 7];

  // Display the countdown timer on the HTML page
  if (waktu >= 0) {
    days.innerHTML = namaHari;
    hours.innerHTML = h === 0 ? "12" : h;
    minutes.innerHTML = m < 10 ? "0" + m : m;
    seconds.innerHTML = s < 10 ? "0" + s : s;
  } else {
    clearInterval(x);
    document.getElementById("countdown").innerHTML = "Selamat Berbuka Puasa!";
  }
}, 1000);

// Display the countdown timer only when
